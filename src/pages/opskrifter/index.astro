---
import CategoryList from "../../components/CategoryList.astro";
import Layout from "../../layouts/Layout.astro";

import { getCollection } from "astro:content";
import IndexLayout from "../../layouts/IndexLayout.astro";
const recipeEntries = await getCollection("recipes");
const categories = recipeEntries.map((recipe) => recipe.slug.split("/")[0]);
const category = [...new Set(categories)];

const sortOrder = ["morgenmad", "frokost", "aftensmad", "snacks"];
category.sort((a, b) => sortOrder.indexOf(a) - sortOrder.indexOf(b));
---

<Layout title="Opskrifter">
  <IndexLayout>
    <h1 class="visually-hidden">Opskrifter</h1>

    {category.map((c) => <CategoryList category={c} />)}
  </IndexLayout>
</Layout>
